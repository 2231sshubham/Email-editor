{"version":3,"sources":["config.js","App.js","index.js"],"names":["module","exports","url","require","axios","console","log","api_url","Container","styled","div","App","props","emailEditorRef","useRef","a","get","obj","counters","JSON","parse","data","body","design","current","editor","loadDesign","className","onClick","saveDesign","post","alert","exportHtml","html","type","ref","onLoad","sample","onReady","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"ilHAIAA,EAAOC,QAJK,CACV,QAAY,oD,qJCIRC,EAAMC,EAAQ,IACdC,EAAQD,EAAQ,IAItBE,QAAQC,IAAIJ,EAAIK,SAEhB,IAAMC,EAAYC,IAAOC,IAAV,iHAgGAC,EAxFH,SAACC,GACX,IAAMC,EAAiBC,iBAAO,MADT,4CAuCvB,kCAAAC,EAAA,sEACsBX,EAAMY,IAAId,EAAIK,SADpC,OACUU,EADV,OAEQC,EAAWC,KAAKC,MAAMH,EAAII,KAAKH,UAC/BI,EAAOH,KAAKC,MAAMH,EAAII,KAAKC,MAC3BC,EAAS,CACXL,SAAWA,EACXI,KAAOA,GAETT,EAAeW,QAAQC,OAAOC,WAAWH,GAR7C,4CAvCuB,sBAwErB,OAAQ,eAACf,EAAD,WACJ,qBAAKmB,UAAU,+BAAf,SACE,sBAAKA,UAAU,kBAAf,UACE,sBAAMA,UAAU,uBAAhB,0BACA,sBAAKA,UAAU,gDAAf,UAEE,wBAAQC,QA5DC,WAEff,EAAeW,QAAQC,OAAOI,YAAW,SAACN,GAC1C,IAEIN,EAAM,CACRC,SAHYK,EAAOL,SAInBI,KAHQC,EAAOD,MAKjBlB,EAAM0B,KAAK5B,EAAIK,QAAQU,GACvBZ,QAAQC,IAAI,SAASiB,GACrBQ,MAAM,0DAvBRlB,EAAeW,QAAQC,OAAOO,YAAW,SAACX,GACfA,EAAjBE,OAAR,IAAgBU,EAASZ,EAATY,KAChB5B,QAAQC,IAAI,aAAc2B,GAC1BF,MAAM,iEAqE6BJ,UAAU,+BAA+BO,KAAK,SAA3E,kBACA,wBAAQN,QA/EG,2CA+EkBD,UAAU,2BAA2BO,KAAK,SAAvE,0BAKT,cAAC,IAAD,CAAaC,IAAKtB,EAAgBuB,OA7BpB,WACb/B,QAAQC,IAAI,UACZO,EAAeW,QAAQC,OAAOC,WAAWW,IA2BQC,QApBnC,WACdjC,QAAQC,IAAI,kBChFhBiC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.3a80599a.chunk.js","sourcesContent":["const url = {\r\n  \"api_url\" : \"https://immense-bastion-38233.herokuapp.com/api\" \r\n}\r\n\r\nmodule.exports = url;\r\n","import React, {useRef} from 'react';\r\nimport EmailEditor from 'react-email-editor';\r\nimport styled from \"styled-components\"\r\nimport sample from \"./sample_json/sample\";\r\nimport {} from \"react-router-dom\";\r\nconst url = require('./config')\r\nconst axios = require('axios')\r\n\r\n// const port = process.env.PORT || 3001;\r\n\r\nconsole.log(url.api_url);\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  position: relative;\r\n  height: 100%;\r\n`;\r\n\r\n\r\nconst App = (props) => {\r\n  const emailEditorRef = useRef(null);\r\n\r\n//// EXPORT MY HTML\r\n\r\n  const exportHtml = () => {\r\n    emailEditorRef.current.editor.exportHtml((data) => {\r\n      const { design, html } = data;\r\n      console.log('exportHtml', html);\r\n      alert('Output HTML has been logged in your developer console.');\r\n    });\r\n  };\r\n\r\n\r\n\r\n\r\n//// SAVE MY DESIGN\r\n\r\n  const saveDesign = () => {\r\n\r\n      emailEditorRef.current.editor.saveDesign((design) => {\r\n      let counters= design.counters;\r\n      let body= design.body;\r\n      let obj = {\r\n        counters : counters,\r\n        body : body\r\n      }\r\n      axios.post(url.api_url,obj)\r\n      console.log(\"Design\",design);\r\n      alert('Design JSON has been logged in your developer console.');\r\n      exportHtml();\r\n    });\r\n  };\r\n\r\n\r\n//// EDIT MY DESIGN \"http://localhost:\"+port\r\n\r\n\r\n\r\nasync function editDesign(){\r\n    const obj = await axios.get(url.api_url)\r\n    let counters = JSON.parse(obj.data.counters);\r\n    let body = JSON.parse(obj.data.body);\r\n    let design = {\r\n      counters : counters,\r\n      body : body\r\n    }\r\n    emailEditorRef.current.editor.loadDesign(design);\r\n};\r\n\r\n\r\n\r\n\r\n  //// FIRST LOAD\r\n\r\n  const onLoad = () => {\r\n    console.log('onLoad');\r\n    emailEditorRef.current.editor.loadDesign(sample)\r\n  }\r\n\r\n\r\n//// YOU READY?\r\n\r\n\r\n  const onReady = () => {\r\n    console.log('onReady');\r\n  };\r\n\r\n\r\n//// RETURN\r\n\r\n\r\n  return  <Container>\r\n      <nav className=\"navbar navbar-light bg-light\">\r\n        <div className=\"container-fluid\">\r\n          <span className=\"navbar-brand mb-0 h1\">Email-Editor</span>\r\n          <div className=\"d-grid gap-2 d-md-flex justify-content-md-end\">\r\n\r\n            <button onClick={saveDesign} className=\"btn btn-outline-dark me-md-2\" type=\"button\">Save</button>\r\n            <button onClick={editDesign} className=\"btn btn-dark btn-primary\" type=\"button\">Edit</button>\r\n\r\n          </div>\r\n        </div>\r\n      </nav>\r\n   <EmailEditor ref={emailEditorRef} onLoad={onLoad} onReady={onReady} />\r\n  </Container>\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}